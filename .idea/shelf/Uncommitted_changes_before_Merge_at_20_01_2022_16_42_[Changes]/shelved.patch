Index: koszyk/views.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from django.shortcuts import render, redirect, get_object_or_404\r\nfrom django.views.decorators.http import require_POST\r\nfrom koszyk.forms import KoszykAddProductForm\r\nfrom koszyk.koszyk import Koszyk\r\nfrom sklep_internetowy.sklep.models import Product\r\n\r\n\r\n@require_POST\r\ndef koszyk_add(request, product_id):\r\n    koszyk = Koszyk(request)\r\n    product = get_object_or_404(Product, id=product_id)\r\n    form = KoszykAddProductForm(request.POST)\r\n    if form.is_valid():\r\n        cd = form.cleaned_data\r\n        koszyk.add(product=product,\r\n                   quantity=cd['quantity'],\r\n                   update_quantity=cd['update'])\r\n        return redirect('koszyk:koszyk_wyswietl')\r\n@require_POST\r\ndef koszyk_remove(request, product_id):\r\n    koszyk = Koszyk(request)\r\n    product = get_object_or_404(Product, id=product_id)\r\n    koszyk.remove(product)\r\n    return redirect('koszyk:koszyk_wyswietl')\r\n\r\ndef koszyk_wyswietl(request):\r\n    koszyk = Koszyk(request)\r\n    for item in koszyk:\r\n        item['update_quantity_form'] = KoszykAddProductForm(initial={'quantity': item['quantity'],\r\n                                                                     'update': True}) #usunac w razie w , bo brak reszty do tego\r\n    return  render(request, 'koszyk/szczegoly.html', {'koszyk':koszyk})
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/koszyk/views.py b/koszyk/views.py
--- a/koszyk/views.py	(revision 2b4767c36f10e7d38bc332111a677b3e51ecccc7)
+++ b/koszyk/views.py	(date 1642693321813)
@@ -28,4 +28,4 @@
     for item in koszyk:
         item['update_quantity_form'] = KoszykAddProductForm(initial={'quantity': item['quantity'],
                                                                      'update': True}) #usunac w razie w , bo brak reszty do tego
-    return  render(request, 'koszyk/szczegoly.html', {'koszyk':koszyk})
\ No newline at end of file
+    return  render(request, 'koszyk/szczegoly.html', {'koszyk':koszyk})
